{"id":"Focm","dependencies":[{"name":"C:\\openLayer\\package.json","includedInParent":true,"mtime":1619204236426},{"name":"ol/ol.css","loc":{"line":1,"column":7},"parent":"C:\\openLayer\\index.js","resolved":"C:\\openLayer\\node_modules\\ol\\ol.css"},{"name":"ol/interaction/Draw","loc":{"line":2,"column":17},"parent":"C:\\openLayer\\index.js","resolved":"C:\\openLayer\\node_modules\\ol\\interaction\\Draw.js"},{"name":"ol/Map","loc":{"line":3,"column":16},"parent":"C:\\openLayer\\index.js","resolved":"C:\\openLayer\\node_modules\\ol\\Map.js"},{"name":"ol/View","loc":{"line":4,"column":17},"parent":"C:\\openLayer\\index.js","resolved":"C:\\openLayer\\node_modules\\ol\\View.js"},{"name":"ol/source","loc":{"line":5,"column":42},"parent":"C:\\openLayer\\index.js","resolved":"C:\\openLayer\\node_modules\\ol\\source.js"},{"name":"ol/layer","loc":{"line":6,"column":55},"parent":"C:\\openLayer\\index.js","resolved":"C:\\openLayer\\node_modules\\ol\\layer.js"}],"generated":{"js":"\"use strict\";require(\"ol/ol.css\");var e=a(require(\"ol/interaction/Draw\")),t=a(require(\"ol/Map\")),n=a(require(\"ol/View\")),r=require(\"ol/source\"),o=require(\"ol/layer\");function a(e){return e&&e.__esModule?e:{default:e}}var l,c=new o.Tile({source:new r.OSM}),i=new r.Vector({wrapX:!1}),u=new o.Vector({source:i}),d=new t.default({layers:[c,u],target:\"map\",view:new n.default({center:[-11e6,46e5],zoom:4})}),m=document.getElementById(\"type\");function s(){\"None\"!==m.value&&(l=new e.default({source:i,type:m.value}),d.addInteraction(l))}m.onchange=function(){d.removeInteraction(l),s()},document.getElementById(\"undo\").addEventListener(\"click\",function(){l.removeLastPoint()}),document.getElementById(\"export-png\").addEventListener(\"click\",function(){d.once(\"rendercomplete\",function(){var e=document.createElement(\"canvas\"),t=d.getSize();e.width=t[0],e.height=t[1];var n=e.getContext(\"2d\");if(Array.prototype.forEach.call(document.querySelectorAll(\".ol-layer canvas\"),function(e){if(e.width>0){var t=e.parentNode.style.opacity;n.globalAlpha=\"\"===t?1:Number(t);var r=e.style.transform.match(/^matrix\\(([^\\(]*)\\)$/)[1].split(\",\").map(Number);CanvasRenderingContext2D.prototype.setTransform.apply(n,r),n.drawImage(e,0,0)}}),navigator.msSaveBlob)navigator.msSaveBlob(e.msToBlob(),\"map.png\");else{var r=document.getElementById(\"image-download\");r.href=e.toDataURL(),r.click()}}),d.renderSync()}),s();"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":34}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":38}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":40}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":42}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":50}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":74}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":76}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":78}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":86}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":99}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":101}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":109}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":121}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":123}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":131}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":144}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":146}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":154}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":166}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":175}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":177}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":180}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":187}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":190}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":192}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":203}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":205}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":206}},{"source":"index.js","original":{"line":97,"column":2},"generated":{"line":1,"column":214}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":217}},{"source":"index.js","name":"draw","original":{"line":29,"column":4},"generated":{"line":1,"column":221}},{"source":"index.js","name":"raster","original":{"line":8,"column":4},"generated":{"line":1,"column":223}},{"source":"index.js","original":{"line":8,"column":13},"generated":{"line":1,"column":225}},{"source":"index.js","name":"TileLayer","original":{"line":8,"column":17},"generated":{"line":1,"column":229}},{"source":"index.js","original":{"line":8,"column":13},"generated":{"line":1,"column":231}},{"source":"index.js","original":{"line":8,"column":27},"generated":{"line":1,"column":236}},{"source":"index.js","name":"source","original":{"line":9,"column":2},"generated":{"line":1,"column":237}},{"source":"index.js","original":{"line":9,"column":10},"generated":{"line":1,"column":244}},{"source":"index.js","name":"OSM","original":{"line":9,"column":14},"generated":{"line":1,"column":248}},{"source":"index.js","original":{"line":9,"column":10},"generated":{"line":1,"column":250}},{"source":"index.js","name":"source","original":{"line":12,"column":4},"generated":{"line":1,"column":256}},{"source":"index.js","original":{"line":12,"column":13},"generated":{"line":1,"column":258}},{"source":"index.js","name":"VectorSource","original":{"line":12,"column":17},"generated":{"line":1,"column":262}},{"source":"index.js","original":{"line":12,"column":13},"generated":{"line":1,"column":264}},{"source":"index.js","original":{"line":12,"column":30},"generated":{"line":1,"column":271}},{"source":"index.js","name":"wrapX","original":{"line":12,"column":31},"generated":{"line":1,"column":272}},{"source":"index.js","original":{"line":12,"column":38},"generated":{"line":1,"column":279}},{"source":"index.js","name":"vector","original":{"line":14,"column":4},"generated":{"line":1,"column":283}},{"source":"index.js","original":{"line":14,"column":13},"generated":{"line":1,"column":285}},{"source":"index.js","name":"VectorLayer","original":{"line":14,"column":17},"generated":{"line":1,"column":289}},{"source":"index.js","original":{"line":14,"column":13},"generated":{"line":1,"column":291}},{"source":"index.js","original":{"line":14,"column":29},"generated":{"line":1,"column":298}},{"source":"index.js","name":"source","original":{"line":15,"column":2},"generated":{"line":1,"column":299}},{"source":"index.js","name":"source","original":{"line":15,"column":10},"generated":{"line":1,"column":306}},{"source":"index.js","name":"map","original":{"line":18,"column":4},"generated":{"line":1,"column":310}},{"source":"index.js","original":{"line":18,"column":10},"generated":{"line":1,"column":312}},{"source":"index.js","name":"Map","original":{"line":18,"column":14},"generated":{"line":1,"column":316}},{"source":"index.js","original":{"line":18,"column":10},"generated":{"line":1,"column":318}},{"source":"index.js","original":{"line":18,"column":18},"generated":{"line":1,"column":326}},{"source":"index.js","name":"layers","original":{"line":19,"column":2},"generated":{"line":1,"column":327}},{"source":"index.js","original":{"line":19,"column":10},"generated":{"line":1,"column":334}},{"source":"index.js","name":"raster","original":{"line":19,"column":11},"generated":{"line":1,"column":335}},{"source":"index.js","name":"vector","original":{"line":19,"column":19},"generated":{"line":1,"column":337}},{"source":"index.js","name":"target","original":{"line":20,"column":2},"generated":{"line":1,"column":340}},{"source":"index.js","original":{"line":20,"column":10},"generated":{"line":1,"column":347}},{"source":"index.js","name":"view","original":{"line":21,"column":2},"generated":{"line":1,"column":353}},{"source":"index.js","original":{"line":21,"column":8},"generated":{"line":1,"column":358}},{"source":"index.js","name":"View","original":{"line":21,"column":12},"generated":{"line":1,"column":362}},{"source":"index.js","original":{"line":21,"column":8},"generated":{"line":1,"column":364}},{"source":"index.js","original":{"line":21,"column":17},"generated":{"line":1,"column":372}},{"source":"index.js","name":"center","original":{"line":22,"column":4},"generated":{"line":1,"column":373}},{"source":"index.js","original":{"line":22,"column":12},"generated":{"line":1,"column":380}},{"source":"index.js","original":{"line":22,"column":14},"generated":{"line":1,"column":382}},{"source":"index.js","original":{"line":22,"column":24},"generated":{"line":1,"column":387}},{"source":"index.js","name":"zoom","original":{"line":23,"column":4},"generated":{"line":1,"column":393}},{"source":"index.js","original":{"line":23,"column":10},"generated":{"line":1,"column":398}},{"source":"index.js","name":"typeSelect","original":{"line":27,"column":4},"generated":{"line":1,"column":404}},{"source":"index.js","name":"document","original":{"line":27,"column":17},"generated":{"line":1,"column":406}},{"source":"index.js","name":"getElementById","original":{"line":27,"column":26},"generated":{"line":1,"column":415}},{"source":"index.js","original":{"line":27,"column":41},"generated":{"line":1,"column":430}},{"source":"index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":438}},{"source":"index.js","name":"addInteraction","original":{"line":30,"column":9},"generated":{"line":1,"column":447}},{"source":"index.js","original":{"line":32,"column":16},"generated":{"line":1,"column":451}},{"source":"index.js","name":"typeSelect","original":{"line":31,"column":14},"generated":{"line":1,"column":460}},{"source":"index.js","name":"value","original":{"line":31,"column":25},"generated":{"line":1,"column":462}},{"source":"index.js","name":"draw","original":{"line":33,"column":4},"generated":{"line":1,"column":470}},{"source":"index.js","original":{"line":33,"column":11},"generated":{"line":1,"column":472}},{"source":"index.js","name":"Draw","original":{"line":33,"column":15},"generated":{"line":1,"column":476}},{"source":"index.js","original":{"line":33,"column":11},"generated":{"line":1,"column":478}},{"source":"index.js","original":{"line":33,"column":20},"generated":{"line":1,"column":486}},{"source":"index.js","name":"source","original":{"line":34,"column":6},"generated":{"line":1,"column":487}},{"source":"index.js","name":"source","original":{"line":34,"column":14},"generated":{"line":1,"column":494}},{"source":"index.js","name":"type","original":{"line":35,"column":6},"generated":{"line":1,"column":496}},{"source":"index.js","name":"typeSelect","original":{"line":35,"column":12},"generated":{"line":1,"column":501}},{"source":"index.js","name":"value","original":{"line":35,"column":23},"generated":{"line":1,"column":503}},{"source":"index.js","name":"map","original":{"line":37,"column":4},"generated":{"line":1,"column":511}},{"source":"index.js","name":"addInteraction","original":{"line":37,"column":8},"generated":{"line":1,"column":513}},{"source":"index.js","name":"draw","original":{"line":37,"column":23},"generated":{"line":1,"column":528}},{"source":"index.js","name":"typeSelect","original":{"line":44,"column":0},"generated":{"line":1,"column":532}},{"source":"index.js","name":"onchange","original":{"line":44,"column":11},"generated":{"line":1,"column":534}},{"source":"index.js","original":{"line":44,"column":22},"generated":{"line":1,"column":543}},{"source":"index.js","name":"map","original":{"line":45,"column":2},"generated":{"line":1,"column":554}},{"source":"index.js","name":"removeInteraction","original":{"line":45,"column":6},"generated":{"line":1,"column":556}},{"source":"index.js","name":"draw","original":{"line":45,"column":24},"generated":{"line":1,"column":574}},{"source":"index.js","name":"addInteraction","original":{"line":46,"column":2},"generated":{"line":1,"column":577}},{"source":"index.js","name":"document","original":{"line":49,"column":0},"generated":{"line":1,"column":582}},{"source":"index.js","name":"getElementById","original":{"line":49,"column":9},"generated":{"line":1,"column":591}},{"source":"index.js","original":{"line":49,"column":24},"generated":{"line":1,"column":606}},{"source":"index.js","name":"addEventListener","original":{"line":49,"column":32},"generated":{"line":1,"column":614}},{"source":"index.js","original":{"line":49,"column":49},"generated":{"line":1,"column":631}},{"source":"index.js","original":{"line":49,"column":58},"generated":{"line":1,"column":639}},{"source":"index.js","name":"draw","original":{"line":50,"column":2},"generated":{"line":1,"column":650}},{"source":"index.js","name":"removeLastPoint","original":{"line":50,"column":7},"generated":{"line":1,"column":652}},{"source":"index.js","name":"document","original":{"line":52,"column":0},"generated":{"line":1,"column":672}},{"source":"index.js","name":"getElementById","original":{"line":52,"column":9},"generated":{"line":1,"column":681}},{"source":"index.js","original":{"line":52,"column":24},"generated":{"line":1,"column":696}},{"source":"index.js","name":"addEventListener","original":{"line":52,"column":38},"generated":{"line":1,"column":710}},{"source":"index.js","original":{"line":52,"column":55},"generated":{"line":1,"column":727}},{"source":"index.js","original":{"line":52,"column":64},"generated":{"line":1,"column":735}},{"source":"index.js","name":"map","original":{"line":53,"column":2},"generated":{"line":1,"column":746}},{"source":"index.js","name":"once","original":{"line":53,"column":6},"generated":{"line":1,"column":748}},{"source":"index.js","original":{"line":53,"column":11},"generated":{"line":1,"column":753}},{"source":"index.js","original":{"line":53,"column":29},"generated":{"line":1,"column":770}},{"source":"index.js","name":"mapCanvas","original":{"line":54,"column":8},"generated":{"line":1,"column":781}},{"source":"index.js","name":"mapCanvas","original":{"line":54,"column":8},"generated":{"line":1,"column":785}},{"source":"index.js","name":"document","original":{"line":54,"column":20},"generated":{"line":1,"column":787}},{"source":"index.js","name":"createElement","original":{"line":54,"column":29},"generated":{"line":1,"column":796}},{"source":"index.js","original":{"line":54,"column":43},"generated":{"line":1,"column":810}},{"source":"index.js","name":"size","original":{"line":55,"column":8},"generated":{"line":1,"column":820}},{"source":"index.js","name":"map","original":{"line":55,"column":15},"generated":{"line":1,"column":822}},{"source":"index.js","name":"getSize","original":{"line":55,"column":19},"generated":{"line":1,"column":824}},{"source":"index.js","name":"mapCanvas","original":{"line":56,"column":4},"generated":{"line":1,"column":834}},{"source":"index.js","name":"width","original":{"line":56,"column":14},"generated":{"line":1,"column":836}},{"source":"index.js","name":"size","original":{"line":56,"column":22},"generated":{"line":1,"column":842}},{"source":"index.js","original":{"line":56,"column":27},"generated":{"line":1,"column":844}},{"source":"index.js","name":"mapCanvas","original":{"line":57,"column":4},"generated":{"line":1,"column":847}},{"source":"index.js","name":"height","original":{"line":57,"column":14},"generated":{"line":1,"column":849}},{"source":"index.js","name":"size","original":{"line":57,"column":23},"generated":{"line":1,"column":856}},{"source":"index.js","original":{"line":57,"column":28},"generated":{"line":1,"column":858}},{"source":"index.js","name":"mapContext","original":{"line":58,"column":8},"generated":{"line":1,"column":861}},{"source":"index.js","name":"mapContext","original":{"line":58,"column":8},"generated":{"line":1,"column":865}},{"source":"index.js","name":"mapCanvas","original":{"line":58,"column":21},"generated":{"line":1,"column":867}},{"source":"index.js","name":"getContext","original":{"line":58,"column":31},"generated":{"line":1,"column":869}},{"source":"index.js","original":{"line":58,"column":42},"generated":{"line":1,"column":880}},{"source":"index.js","name":"navigator","original":{"line":80,"column":8},"generated":{"line":1,"column":886}},{"source":"index.js","name":"Array","original":{"line":59,"column":4},"generated":{"line":1,"column":889}},{"source":"index.js","name":"prototype","original":{"line":59,"column":10},"generated":{"line":1,"column":895}},{"source":"index.js","name":"forEach","original":{"line":59,"column":20},"generated":{"line":1,"column":905}},{"source":"index.js","name":"call","original":{"line":59,"column":28},"generated":{"line":1,"column":913}},{"source":"index.js","name":"document","original":{"line":60,"column":6},"generated":{"line":1,"column":918}},{"source":"index.js","name":"querySelectorAll","original":{"line":60,"column":15},"generated":{"line":1,"column":927}},{"source":"index.js","original":{"line":60,"column":32},"generated":{"line":1,"column":944}},{"source":"index.js","original":{"line":61,"column":6},"generated":{"line":1,"column":964}},{"source":"index.js","name":"canvas","original":{"line":61,"column":16},"generated":{"line":1,"column":973}},{"source":"index.js","name":"canvas","original":{"line":62,"column":12},"generated":{"line":1,"column":976}},{"source":"index.js","name":"canvas","original":{"line":62,"column":12},"generated":{"line":1,"column":979}},{"source":"index.js","name":"width","original":{"line":62,"column":19},"generated":{"line":1,"column":981}},{"source":"index.js","original":{"line":62,"column":27},"generated":{"line":1,"column":987}},{"source":"index.js","original":{"line":62,"column":30},"generated":{"line":1,"column":989}},{"source":"index.js","name":"opacity","original":{"line":63,"column":14},"generated":{"line":1,"column":990}},{"source":"index.js","name":"opacity","original":{"line":63,"column":14},"generated":{"line":1,"column":994}},{"source":"index.js","name":"canvas","original":{"line":63,"column":24},"generated":{"line":1,"column":996}},{"source":"index.js","name":"parentNode","original":{"line":63,"column":31},"generated":{"line":1,"column":998}},{"source":"index.js","name":"style","original":{"line":63,"column":42},"generated":{"line":1,"column":1009}},{"source":"index.js","name":"opacity","original":{"line":63,"column":48},"generated":{"line":1,"column":1015}},{"source":"index.js","name":"mapContext","original":{"line":64,"column":10},"generated":{"line":1,"column":1023}},{"source":"index.js","name":"globalAlpha","original":{"line":64,"column":21},"generated":{"line":1,"column":1025}},{"source":"index.js","original":{"line":64,"column":47},"generated":{"line":1,"column":1037}},{"source":"index.js","name":"opacity","original":{"line":64,"column":35},"generated":{"line":1,"column":1042}},{"source":"index.js","original":{"line":64,"column":52},"generated":{"line":1,"column":1044}},{"source":"index.js","name":"Number","original":{"line":64,"column":56},"generated":{"line":1,"column":1046}},{"source":"index.js","name":"opacity","original":{"line":64,"column":63},"generated":{"line":1,"column":1053}},{"source":"index.js","name":"transform","original":{"line":65,"column":14},"generated":{"line":1,"column":1056}},{"source":"index.js","name":"matrix","original":{"line":67,"column":14},"generated":{"line":1,"column":1060}},{"source":"index.js","name":"canvas","original":{"line":65,"column":26},"generated":{"line":1,"column":1062}},{"source":"index.js","name":"style","original":{"line":65,"column":33},"generated":{"line":1,"column":1064}},{"source":"index.js","name":"transform","original":{"line":65,"column":39},"generated":{"line":1,"column":1070}},{"source":"index.js","name":"match","original":{"line":68,"column":13},"generated":{"line":1,"column":1080}},{"source":"index.js","original":{"line":68,"column":19},"generated":{"line":1,"column":1086}},{"source":"index.js","original":{"line":68,"column":43},"generated":{"line":1,"column":1110}},{"source":"index.js","name":"split","original":{"line":69,"column":13},"generated":{"line":1,"column":1113}},{"source":"index.js","original":{"line":69,"column":19},"generated":{"line":1,"column":1119}},{"source":"index.js","name":"map","original":{"line":70,"column":13},"generated":{"line":1,"column":1124}},{"source":"index.js","name":"Number","original":{"line":70,"column":17},"generated":{"line":1,"column":1128}},{"source":"index.js","name":"CanvasRenderingContext2D","original":{"line":72,"column":10},"generated":{"line":1,"column":1136}},{"source":"index.js","name":"prototype","original":{"line":72,"column":35},"generated":{"line":1,"column":1161}},{"source":"index.js","name":"setTransform","original":{"line":72,"column":45},"generated":{"line":1,"column":1171}},{"source":"index.js","name":"apply","original":{"line":72,"column":58},"generated":{"line":1,"column":1184}},{"source":"index.js","name":"mapContext","original":{"line":73,"column":12},"generated":{"line":1,"column":1190}},{"source":"index.js","name":"matrix","original":{"line":74,"column":12},"generated":{"line":1,"column":1192}},{"source":"index.js","name":"mapContext","original":{"line":76,"column":10},"generated":{"line":1,"column":1195}},{"source":"index.js","name":"drawImage","original":{"line":76,"column":21},"generated":{"line":1,"column":1197}},{"source":"index.js","name":"canvas","original":{"line":76,"column":31},"generated":{"line":1,"column":1207}},{"source":"index.js","original":{"line":76,"column":39},"generated":{"line":1,"column":1209}},{"source":"index.js","original":{"line":76,"column":42},"generated":{"line":1,"column":1211}},{"source":"index.js","name":"navigator","original":{"line":80,"column":8},"generated":{"line":1,"column":1217}},{"source":"index.js","name":"msSaveBlob","original":{"line":80,"column":18},"generated":{"line":1,"column":1227}},{"source":"index.js","name":"navigator","original":{"line":82,"column":6},"generated":{"line":1,"column":1238}},{"source":"index.js","name":"msSaveBlob","original":{"line":82,"column":16},"generated":{"line":1,"column":1248}},{"source":"index.js","name":"mapCanvas","original":{"line":82,"column":27},"generated":{"line":1,"column":1259}},{"source":"index.js","name":"msToBlob","original":{"line":82,"column":37},"generated":{"line":1,"column":1261}},{"source":"index.js","original":{"line":82,"column":49},"generated":{"line":1,"column":1272}},{"source":"index.js","original":{"line":83,"column":11},"generated":{"line":1,"column":1287}},{"source":"index.js","name":"link","original":{"line":84,"column":10},"generated":{"line":1,"column":1288}},{"source":"index.js","name":"link","original":{"line":84,"column":10},"generated":{"line":1,"column":1292}},{"source":"index.js","name":"document","original":{"line":84,"column":17},"generated":{"line":1,"column":1294}},{"source":"index.js","name":"getElementById","original":{"line":84,"column":26},"generated":{"line":1,"column":1303}},{"source":"index.js","original":{"line":84,"column":41},"generated":{"line":1,"column":1318}},{"source":"index.js","name":"link","original":{"line":85,"column":6},"generated":{"line":1,"column":1336}},{"source":"index.js","name":"href","original":{"line":85,"column":11},"generated":{"line":1,"column":1338}},{"source":"index.js","name":"mapCanvas","original":{"line":85,"column":18},"generated":{"line":1,"column":1343}},{"source":"index.js","name":"toDataURL","original":{"line":85,"column":28},"generated":{"line":1,"column":1345}},{"source":"index.js","name":"link","original":{"line":86,"column":6},"generated":{"line":1,"column":1357}},{"source":"index.js","name":"click","original":{"line":86,"column":11},"generated":{"line":1,"column":1359}},{"source":"index.js","name":"map","original":{"line":89,"column":2},"generated":{"line":1,"column":1370}},{"source":"index.js","name":"renderSync","original":{"line":89,"column":6},"generated":{"line":1,"column":1372}},{"source":"index.js","name":"addInteraction","original":{"line":93,"column":0},"generated":{"line":1,"column":1387}}],"sources":{"index.js":"import 'ol/ol.css';\r\nimport Draw from 'ol/interaction/Draw';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport {OSM, Vector as VectorSource} from 'ol/source';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\r\n\r\nvar raster = new TileLayer({\r\n  source: new OSM(),\r\n});\r\n\r\nvar source = new VectorSource({wrapX: false});\r\n\r\nvar vector = new VectorLayer({\r\n  source: source,\r\n});\r\n\r\nvar map = new Map({\r\n  layers: [raster, vector],\r\n  target: 'map',\r\n  view: new View({\r\n    center: [-11000000, 4600000],\r\n    zoom: 4,\r\n  }),\r\n});\r\n\r\nvar typeSelect = document.getElementById('type');\r\n\r\nvar draw; // global so we can remove it later\r\nfunction addInteraction() {\r\n  var value = typeSelect.value;\r\n  if (value !== 'None') {\r\n    draw = new Draw({\r\n      source: source,\r\n      type: typeSelect.value,\r\n    });\r\n    map.addInteraction(draw);\r\n  }\r\n}\r\n\r\n/**\r\n * Handle change event.\r\n */\r\ntypeSelect.onchange = function () {\r\n  map.removeInteraction(draw);\r\n  addInteraction();\r\n};\r\n\r\ndocument.getElementById('undo').addEventListener('click', function () {\r\n  draw.removeLastPoint();\r\n});\r\ndocument.getElementById('export-png').addEventListener('click', function () {\r\n  map.once('rendercomplete', function () {\r\n    var mapCanvas = document.createElement('canvas');\r\n    var size = map.getSize();\r\n    mapCanvas.width = size[0];\r\n    mapCanvas.height = size[1];\r\n    var mapContext = mapCanvas.getContext('2d');\r\n    Array.prototype.forEach.call(\r\n      document.querySelectorAll('.ol-layer canvas'),\r\n      function (canvas) {\r\n        if (canvas.width > 0) {\r\n          var opacity = canvas.parentNode.style.opacity;\r\n          mapContext.globalAlpha = opacity === '' ? 1 : Number(opacity);\r\n          var transform = canvas.style.transform;\r\n          // Get the transform parameters from the style's transform matrix\r\n          var matrix = transform\r\n            .match(/^matrix\\(([^\\(]*)\\)$/)[1]\r\n            .split(',')\r\n            .map(Number);\r\n          // Apply the transform to the export map context\r\n          CanvasRenderingContext2D.prototype.setTransform.apply(\r\n            mapContext,\r\n            matrix\r\n          );\r\n          mapContext.drawImage(canvas, 0, 0);\r\n        }\r\n      }\r\n    );\r\n    if (navigator.msSaveBlob) {\r\n      // link download attribuute does not work on MS browsers\r\n      navigator.msSaveBlob(mapCanvas.msToBlob(), 'map.png');\r\n    } else {\r\n      var link = document.getElementById('image-download');\r\n      link.href = mapCanvas.toDataURL();\r\n      link.click();\r\n    }\r\n  });\r\n  map.renderSync();\r\n});\r\n\r\n\r\naddInteraction();\r\n\r\n//remove feature\r\n// var selectSource = select.getLayer(selectedFeature).getSource();\r\n  //selectSource.removeFeature(selectedFeature);\r\n"},"lineCount":null}},"error":null,"hash":"5588808d0759fdfe0969c27cefdb3805","cacheData":{"env":{}}}